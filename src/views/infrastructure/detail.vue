<template >
    <div>
         <!-- Start::app-content -->
        
            <div class="container-fluid">

                <!-- Page Header -->
                <div class="d-md-flex d-block align-items-center justify-content-between my-4 page-header-breadcrumb">
                    <h1 class="page-title fw-semibold fs-18 mb-0">Candidate Details</h1>
                    <div class="ms-md-1 ms-0">
                        <nav>
                            <ol class="breadcrumb mb-0">
                                <li class="breadcrumb-item"><a href="javascript:void(0);">BSPP</a></li>
                                <li class="breadcrumb-item active" aria-current="page">Candidate Details</li>
                            </ol>
                        </nav>
                    </div>
                </div>
                <!-- Page Header Close -->

                <div class="container">
                    <!-- Start::row-1 -->
                    <div class="row">
                        <div class="col-xl-12">
                            <div class="card custom-card">
                                <div class="card-body">
                                    <div class="d-flex align-items-center flex-wrap justify-content-between gap-2">
                                        <div class="d-flex flex-wrap gap-2">
                                            <div>
                                                <span class="avatar avatar-xxl avatar-rounded">
                                                    <img src="@/assets/img/logo_mobile.png" class="rounded-circle img-fluid" alt="">
                                                </span>
                                            </div>    
                                            <div class="ms-3">
                                                
                                                <h4 class="fw-semibold mb-0 d-flex align-items-center "> Pont de Conakry <span style="color:red"> (INFRA001)</span> </h4>
                                                <div class="mt-1"><i class="bi bi-person me-2 fs-18"></i>Maitre d'ouvrage : <span class="fw-semibold" data-bs-toggle="tooltip" title="Current Salary">Ministère des Travaux Publics</span> </div>
                                                <div class="mt-1"><i class="bi bi-geo-alt me-2 fs-16"></i>Localité : <span class="fw-semibold" data-bs-toggle="tooltip" title="Current Salary">Conakry</span> </div>
                                                <div class="mt-1"><i class="bi bi-bricks me-2 fs-16"></i>Entreprise responsable: <span class="fw-semibold" data-bs-toggle="tooltip" title="Current Salary">Entreprise A</span> </div>
                                                
                                                <div class="d-flex fs-14 mt-1">
                                                    <div>
                                                        <div class="mt-1"><i class="bi bi-calendar3 me-2 fs-16"></i>Date debut : <span class="fw-semibold" data-bs-toggle="tooltip" title="Current Salary">12/23/2098</span> </div>
                                                        <div class="mt-1"><i class="bi bi-eye me-2 fs-16"></i>Visibilité : <span class="fw-semibold badge rounded-pill bg-danger-transparent" data-bs-toggle="tooltip" title="Current Salary">Desactiver</span> </div>
                                                    </div>
                                                    <div class="ms-4">
                                                        <div class="mt-1"><i class="bi bi-calendar3 me-2 fs-16"></i>Date fin : <span class="fw-semibold" data-bs-toggle="tooltip" title="Current Salary">12/23/2098</span> </div>
                                                    </div>
                                                </div>
                                                <div class="">
                                                        <div class="mt-1"><i class="bi bi-calendar3 me-2 fs-16"></i>Type d'infrastructure : <span class="fw-semibold" data-bs-toggle="tooltip" title="Current Salary">12/23/2098</span> </div>
                                                    </div>
                                            </div>
                                        </div>
                                        <!-- <div class="btn-list">
                                            <a href="javascript:void(0);" class="btn btn-primary"><i class="bi bi-download me-1"></i> Download CV</a>
                                            <a href="javascript:void(0);" class="btn btn-icon btn-primary-light btn-wave">
                                                <i class="ri-heart-line fs-13"></i>
                                            </a>
                                            <a href="javascript:void(0);" class="btn btn-icon btn-primary-light btn-wave">
                                                <i class="ri-share-line"></i>
                                            </a>
                                        </div> -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--End::row-1 -->

                    <!-- Start::row-2 -->
                    <div class="row">
                        <div class="col-lg-4">
                            <div class="card custom-card overflow-hidden">
                                <div class="card-header">
                                    <div class="card-title">
                                         Information du projet
                                    </div>
                                </div>
                                <div class="card-body p-2">
                                    <div class="table-responsive">
                                        <table class="table table-responsive table-borderless">
                                            <tbody>
                                                <tr>
                                                    <td class="w-50">
                                                        <span class="fw-semibold">Nom</span> 
                                                    </td>
                                                    <td>: Brenda Simpson</td>
                                                </tr>
                                                <tr>
                                                    <td class="w-50">
                                                        <span class="fw-semibold">Budget</span> 
                                                    </td>
                                                    <td>: 123434 (M GNF)</td>
                                                </tr>
                                                <tr>
                                                    <td class="w-50">
                                                        <span class="fw-semibold">Date debut</span> 
                                                    </td>
                                                    <td>: 13 Jan 2022</td>
                                                </tr>
                                                <tr>
                                                    <td class="w-50">
                                                        <span class="fw-semibold">Date fin</span> 
                                                    </td>
                                                    <td>: 13 Jan 2022</td>
                                                </tr>
                                                <tr>
                                                    <td class="w-50">
                                                        <span class="fw-semibold">Mode financement</span> 
                                                    </td>
                                                    <td>: 35</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                              
                            </div>
                            <div class="card custom-card overflow-hidden">
                                <div class="card-header">
                                    <div class="card-title">
                                        Tools Used
                                    </div>
                                </div>
                                <div class="card-body d-flex flex-wrap gap-2">
                                    <span class="avatar me-2 avatar-rounded bg-white shadow-sm border p-2">
                                        <img src="../assets/images/company-logos/1.png" alt="">
                                    </span>
                                    <span class="avatar me-2 avatar-rounded bg-white shadow-sm border p-2">
                                        <img src="../assets/images/company-logos/2.png" alt="">
                                    </span>
                                    <span class="avatar me-2 avatar-rounded bg-white shadow-sm border p-2">
                                        <img src="../assets/images/company-logos/3.png" alt="">
                                    </span>
                                    <span class="avatar me-2 avatar-rounded bg-white shadow-sm border p-2">
                                        <img src="../assets/images/company-logos/4.png" alt="">
                                    </span>
                                    <span class="avatar me-2 avatar-rounded bg-white shadow-sm border p-2">
                                        <img src="../assets/images/company-logos/5.png" alt="">
                                    </span>
                                    <span class="avatar avatar-rounded bg-white shadow-sm border p-2">
                                        <img src="../assets/images/company-logos/6.png" alt="">
                                    </span>
                                </div>
                            </div>
 
                        </div>
                        
                        <div class="col-lg-8">
                            <div class="card custom-card">
                                <div class="card-header">
                                    <div class="card-title">
                                        <h5 class="mb-0 fw-semibold fs-22">
                                             Information suplementaire
                                        </h5>
                                    </div>
                                </div>
                                <div class="card-body p-0 candidate-edu-timeline">
                                    <div class="p-4 border-bottom">
                                        <h5 class="fw-semibold fs-17 d-flex align-items-center gap-2"><span class="avatar avatar-rounded bg-primary avatar-sm"><i class="bi bi-briefcase fs-13"></i></span> Difficulté :</h5>
                                        <div class="ms-4 ps-3">
                                            <p class="op-9">Est amet sit vero sanctus labore no sed ipsum ipsum nonumy. Sit ipsum sanctus ea magna est. Aliquyam sed amet. Kasd diam rebum sit ipsum ipsum erat et kasd.Est amet sit vero sanctus labore no sed ipsum ipsum nonumy vero sanctus labore.A officiis optio temporibus minima facilis...</p>
                                            <p class="mb-0 op-9">Sit ipsum sanctus ea magna est. Aliquyam sed amet. Kasd diam rebum sit ipsum ipsum erat et kasd.Est amet sit vero sanctus labore no sed ipsum ipsum nonumy vero sanctus labore..</p>
                                        </div>
                                    </div>
                                    <div class="p-4 border-bottom">
                                        <h5 class="fw-semibold fs-17 d-flex align-items-center gap-2"><span class="avatar avatar-rounded bg-primary avatar-sm"><i class="bi bi-activity fs-13"></i></span> Autres :</h5>
                                        <div class="ms-4 ps-3">
                                            <div class="row">
                                                <div class="col">
                                                    <p class="fw-semibold fs-14 mb-0">Taux Avancement Technique</p>
                                                    <div class="d-flex gap-2">
                                                        <p class="mb-0">Dwayne University</p>
                                                        
                                                    </div>
                                                </div>
                                                <div class="col">
                                                    <p class="fw-semibold fs-14 mb-0">Taux de Decaissement  </p>
                                                    <div class="d-flex gap-2">
                                                        <p class="mb-0">Sprect College</p>
                                                        
                                                    </div>
                                                </div>
                                            </div>
    
                                            <div class="row mt-3">
                                                <div class="col">
                                                    <p class="fw-semibold fs-14 mb-0">Montant Decaisse</p>
                                                    <div class="d-flex gap-2">
                                                        <p class="mb-0">Dwayne University</p>
                                                        
                                                    </div>
                                                </div>
                                                <div class="col">
                                                    <p class="fw-semibold fs-14 mb-0">Date du Suivi  </p>
                                                    <div class="d-flex gap-2">
                                                        <p class="mb-0">12/34/3023</p>
                                                        
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    
                                    
                                </div>
                            </div>
                          
                        </div>

                       
                    </div>
                    <!-- End::row-2 -->
                </div>

            
                <div class="row">
                    <div class="col-xl-12">
                        <div class="card custom-card overflow-hidden">
                            <div class="card-header justify-content-between">
                                <div class="card-title">
                                     Liste des suivis
                                </div>
                                <div class="d-flex flex-wrap gap-2">
                                    
                                    <div>
                                        <input class="form-control form-control-sm" type="text" placeholder="Search Here" aria-label=".form-control-sm example">
                                    </div>
                                    <button  class="btn btn-primary btn-wave btn-sm" data-bs-toggle="modal" data-bs-target="#create-suivi">
                                        <i class="ri-add-line me-1 align-middle"></i>suivi
                                    </button> 
                                   
                                </div>
                            </div>
                            <div class="card-body px-2">
                                <div class="row">
                           
                            <div class="col-xxl-3 col-xl-4 col-lg-6 col-md-6 col-sm-6 col-12">
                                <div class="card custom-card border border-warning">
                                    <div class="card-body p-3">
                                        <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-indicators">
        <button type="button" data-bs-target="#carouselExampleIndicators"
            data-bs-slide-to="0" class="active" aria-current="true"
            aria-label="Slide 1"></button>
        <button type="button" data-bs-target="#carouselExampleIndicators"
            data-bs-slide-to="1" aria-label="Slide 2"></button>
        <button type="button" data-bs-target="#carouselExampleIndicators"
            data-bs-slide-to="2" aria-label="Slide 3"></button>
    </div>
    <div class="carousel-inner">
        <div class="carousel-item active">
            <a href="https://report.cosit.tech/kobo/public/INFRASTRUCTURE/attachment1719925376.jpg" class="glightbox card" data-gallery="gallery1">
                <img src="@/assets/images/media/media-40.jpg" alt="image" >
                        </a>
        </div>
        <div class="carousel-item">
            <img src="@/assets/img/logo_mobile.png" class="d-block w-100" alt="...">
        </div>
        <div class="carousel-item">
            <img src="@/assets/img/client.png" class="d-block w-100" alt="...">
        </div>
    </div>
        <button class="carousel-control-prev" type="button"
            data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button"
            data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>
    <div class="d-flex justify-content-between align-items-start  flex-wrap">
        <div class="d-inline-flex align-items-start position-relative">
           
            <div class="flex-grow-1">
                <span class="mb-0 d-block fs-16 fw-semibold">Suivi du  <span class="fw-semibold text-success">12/34/3453</span> </span>
              
            </div>
        </div>
        
    </div>
    <div class="fs-13 fw-semibold ">Niveau Avancement :  <span class="fw-semibold text-gray">70% </span></div>
    <div class="fs-13 fw-semibold ">Decaissement : <span class="fw-semibold text-gray">123 </span></div>
    <div class="d-flex align-items-end flex-wrap gap-2">
        <!-- <div class="flex-fill">
            <p class="fs-14 mb-1 text-muted">Highest Bid</p>
            <div class="fs-16 mb-0 d-flex align-items-center fw-semibold">
                <span class="avatar avatar-xs me-1"><img src="@/assets/images/nft-images/34.png" alt=""></span>
                1.19ETH
            </div>
        </div> -->
        <a href="javascript:void(0);" class="btn btn-primary-light btn-wave"><i class="bi bi-play-circle"></i></a>
    </div>
</div>
</div>
                            </div>
                            <div class="col-xxl-3 col-xl-4 col-lg-6 col-md-6 col-sm-6 col-12">
                                <div class="card custom-card border border-warning">
                                    <div class="card-body p-3">
                                        <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-indicators">
        <button type="button" data-bs-target="#carouselExampleIndicators"
            data-bs-slide-to="0" class="active" aria-current="true"
            aria-label="Slide 1"></button>
        <button type="button" data-bs-target="#carouselExampleIndicators"
            data-bs-slide-to="1" aria-label="Slide 2"></button>
        <button type="button" data-bs-target="#carouselExampleIndicators"
            data-bs-slide-to="2" aria-label="Slide 3"></button>
    </div>
    <div class="carousel-inner">
        <div class="carousel-item active">
            <a href="https://report.cosit.tech/kobo/public/INFRASTRUCTURE/attachment1719925376.jpg" class="glightbox card" data-gallery="gallery1">
                <img src="@/assets/images/media/media-40.jpg" alt="image" >
                        </a>
        </div>
        <div class="carousel-item">
            <img src="@/assets/img/logo_mobile.png" class="d-block w-100" alt="...">
        </div>
        <div class="carousel-item">
            <img src="@/assets/img/client.png" class="d-block w-100" alt="...">
        </div>
    </div>
        <button class="carousel-control-prev" type="button"
            data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button"
            data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>
    <div class="d-flex justify-content-between align-items-start  flex-wrap">
        <div class="d-inline-flex align-items-start position-relative">
           
            <div class="flex-grow-1">
                <span class="mb-0 d-block fs-16 fw-semibold">Suivi du  <span class="fw-semibold text-success">12/34/3453</span> </span>
              
            </div>
        </div>
        
    </div>
    <div class="fs-13 fw-semibold ">Niveau Avancement :  <span class="fw-semibold text-gray">70% </span></div>
    <div class="fs-13 fw-semibold ">Decaissement : <span class="fw-semibold text-gray">123 </span></div>
    <div class="d-flex align-items-end flex-wrap gap-2">
        <!-- <div class="flex-fill">
            <p class="fs-14 mb-1 text-muted">Highest Bid</p>
            <div class="fs-16 mb-0 d-flex align-items-center fw-semibold">
                <span class="avatar avatar-xs me-1"><img src="@/assets/images/nft-images/34.png" alt=""></span>
                1.19ETH
            </div>
        </div> -->
        <a href="javascript:void(0);" class="btn btn-primary-light btn-wave"><i class="bi bi-play-circle"></i></a>
    </div>
</div>
</div>
                            </div>
                            <div class="col-xxl-3 col-xl-4 col-lg-6 col-md-6 col-sm-6 col-12">
                                <div class="card custom-card border border-warning">
                                    <div class="card-body p-3">
                                        <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-indicators">
        <button type="button" data-bs-target="#carouselExampleIndicators"
            data-bs-slide-to="0" class="active" aria-current="true"
            aria-label="Slide 1"></button>
        <button type="button" data-bs-target="#carouselExampleIndicators"
            data-bs-slide-to="1" aria-label="Slide 2"></button>
        <button type="button" data-bs-target="#carouselExampleIndicators"
            data-bs-slide-to="2" aria-label="Slide 3"></button>
    </div>
    <div class="carousel-inner">
        <div class="carousel-item active">
            <a href="https://report.cosit.tech/kobo/public/INFRASTRUCTURE/attachment1719925376.jpg" class="glightbox card" data-gallery="gallery1">
                <img src="@/assets/images/media/media-40.jpg" alt="image" >
                        </a>
        </div>
        <div class="carousel-item">
            <img src="@/assets/img/logo_mobile.png" class="d-block w-100" alt="...">
        </div>
        <div class="carousel-item">
            <img src="@/assets/img/client.png" class="d-block w-100" alt="...">
        </div>
    </div>
        <button class="carousel-control-prev" type="button"
            data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button"
            data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>
    <div class="d-flex justify-content-between align-items-start  flex-wrap">
        <div class="d-inline-flex align-items-start position-relative">
           
            <div class="flex-grow-1">
                <span class="mb-0 d-block fs-16 fw-semibold">Suivi du  <span class="fw-semibold text-success">12/34/3453</span> </span>
              
            </div>
        </div>
        
    </div>
    <div class="fs-13 fw-semibold ">Niveau Avancement :  <span class="fw-semibold text-gray">70% </span></div>
    <div class="fs-13 fw-semibold ">Decaissement : <span class="fw-semibold text-gray">123 </span></div>
    <div class="d-flex align-items-end flex-wrap gap-2">
        <!-- <div class="flex-fill">
            <p class="fs-14 mb-1 text-muted">Highest Bid</p>
            <div class="fs-16 mb-0 d-flex align-items-center fw-semibold">
                <span class="avatar avatar-xs me-1"><img src="@/assets/images/nft-images/34.png" alt=""></span>
                1.19ETH
            </div>
        </div> -->
        <a href="javascript:void(0);" class="btn btn-primary-light btn-wave"><i class="bi bi-play-circle"></i></a>
    </div>
</div>
</div>
                            </div>
                            <nav aria-label="Page navigation">
                                <ul class="pagination justify-content-end mb-4">
                                    <li class="page-item disabled">
                                        <a class="page-link">Previous</a>
                                    </li>
                                    <li class="page-item"><a class="page-link" href="javascript:void(0);">1</a></li>
                                    <li class="page-item"><a class="page-link" href="javascript:void(0);">2</a></li>
                                    <li class="page-item"><a class="page-link" href="javascript:void(0);">3</a></li>
                                    <li class="page-item">
                                        <a class="page-link" href="javascript:void(0);">Next</a>
                                    </li>
                                </ul>
                            </nav>
                </div>
                            </div>
                          
                        </div>
                    </div>
                </div>
                <!--End::row-1 -->

            </div>
       <!-- Start:: Create suivi -->
       <div class="modal fade" id="create-suivi" tabindex="-1" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered ">
                        <div class="modal-content">
                            <div class="modal-header fs-15 " style="background-color: var(--primary-color); color:white">
                                <h6 class="modal-title text-white">Creer un suivi</h6>
                               
                            </div>
                            <div class="modal-body px-4">
                                <div class="row gy-3">
                                    <div class="col-xl-12">
                                        <label for="contact-mail" class="form-label">Date suivi</label>
                                        <input type="date" class="form-control" id="contact-mail" v-model="step1.DateSuivi">
                                        <small v-if="v$.step1.DateSuivi.$error">{{ v$.step1.DateSuivi.$errors[0].$message}}</small>
                                        <small v-if="resultError['DateSuivi']"> {{ resultError["DateSuivi"] }} </small>
                                    </div>
                                    <div class="col-xl-12">
                                        <label for="deal-title" class="form-label">Images (3)</label>
                                        <input class="form-control" type="file" id="input-file" accept="image/*" multiple @change="handleFileUploadImages">
                                        <small v-if="v$.step1.Photos.$error">{{ v$.step1.Photos.$errors[0].$message}}</small>
                                        <small v-if="resultError['Photos']"> {{ resultError["Photos"] }} </small>
                                    </div>
                                    <div class="col-xl-12">
                                        <label for="contact-lead-score" class="form-label">Video</label>
                                        <input class="form-control" type="file" id="input-file" accept="video/*" @change="handleFileUploadVideo">
                                        <small v-if="v$.step1.Videos.$error">{{ v$.step1.Videos.$errors[0].$message}}</small>
                                        <small v-if="resultError['Videos']"> {{ resultError["Videos"] }} </small>

                                    </div>
                                   
                                    <div class="col-xl-12">
                                        <label for="contact-phone" class="form-label">Niveau Avancement</label>
                                        <input type="number" class="form-control" id="contact-phone" placeholder="70" v-model="step1.NiveauAvancement">
                                        <small v-if="v$.step1.NiveauAvancement.$error">{{ v$.step1.NiveauAvancement.$errors[0].$message}}</small>
                                        <small v-if="resultError['NiveauAvancement']"> {{ resultError["NiveauAvancement"] }} </small>
                                    </div>
                                    <div class="col-xl-12">
                                        <label for="company-name" class="form-label">Decaissement</label>
                                        <input type="text" class="form-control" id="company-name" placeholder="Decaissement" v-model="step1.Decaissement">
                                        <small v-if="v$.step1.Decaissement.$error">{{ v$.step1.Decaissement.$errors[0].$message}}</small>
                                        <small v-if="resultError['Decaissement']"> {{ resultError["Decaissement"] }} </small>
                                    </div>
                                   
                                    <div class="col-xl-12 text-center pt-1">
                                        <button type="button" class="btn btn-primary" @click="submitSuivi()">Valider</button>

                                    </div>
                                   
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger"
                                    data-bs-dismiss="modal">Fermer</button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- End:: Create Contact -->
    </div>
</template>
<script>
 import useVuelidate from "@vuelidate/core";
 import { require, lgmin, lgmax, ValidNumeri } from "@/functions/rules";
 import { useToast } from "vue-toastification";
 import Loading from '@/components/others/loading.vue';
 import axios from '@/lib/axiosConfig.js'
 import MazPhoneNumberInput from 'maz-ui/components/MazPhoneNumberInput'
 import Swal from 'sweetalert2'
export default {
    name: "ComponentlisteInfra",
   setup() {
  const toast = useToast();
  return { toast }
},
components: { Loading , MazPhoneNumberInput},
computed: {
    loggedInUser() {
      return this.$store.getters["auth/myAuthenticatedUser"];
    },
},
    data() {
        return {
            loading: false,
       error: "",
       resultError: {}, 
       v$: useVuelidate(),
       step1: {
           DateSuivi: "",
           Photos: "",
           Videos: "",
           NiveauAvancement:"",
           Decaissement: "",
             
     },
    
         
     
        }
    },
    validations: {
     step1: {
           DateSuivi: {require},
           Photos: {require},
           Videos: {require},
           NiveauAvancement:{require},
           Decaissement: {require},
           
         }
       },
    mounted() {
        var lightboxVideo = GLightbox({
        selector: '.glightbox'
    });
    lightboxVideo.on('slide_changed', ({ prev, current }) => {
        console.log('Prev slide', prev);
        console.log('Current slide', current);

        const { slideIndex, slideNode, slideConfig, player } = current;
    });
    },
    methods: {
        async submitSuivi(modalId) {
      this.v$.step1.$touch();
      if (this.v$.$errors.length == 0) {
        this.loading = true;
        const formData = new FormData();
        formData.append("FileNif",  this.step1.DateSuivi);
        formData.append("FileNif",  this.step1.Photos);
        formData.append("FileNif",  this.step1.Videos);

        formData.append("FileNif",  this.step1.NiveauAvancement);
        formData.append("FileNif",  this.step1.Decaissement);
     



    

 

        // try {
        //   const response = await axios.post("/clients", data, {
        //     headers: { Authorization: `Bearer ${this.loggedInUser.token}` ,
           
        //   }
        //   });
        //   console.log("Réponse du téléversement :", response);
        //   if (response.data.status === "success") {
        //     this.closeModal(modalId);
        //     this.successmsg(
        //       "Client Created Successfully",
        //       " The new client has been successfully created!"
        //     );
        //     await this.fetchClients();
        //   } else {
        //   }
        // } catch (error) {
        //   console.log("response.login", error);

        //   this.loading = false;
        //   if (error.response.data.status === "error") {
        //     return (this.error = error.response.data.message);
        //   } else {
        //     this.formatValidationErrors(error.response.data.errors);
        //   }
        // }
      } else {
        console.log("error", this.v$.$errors);
      }
    },

    async formatValidationErrors(errors) {
     const formattedErrors = {};

     for (const field in errors) {
       const errorMessages = errors[field]; // Liste complète des messages d'erreur
       const concatenatedError = errorMessages.join(", "); // Concaténer les messages d'erreur
             formattedErrors[field] = concatenatedError; // Utilisez le nom du champ comme clé
     }

     this.resultError = formattedErrors; // Stockez les erreurs dans un objet
     for (let key in this.resultError) {
      if (this.resultError.hasOwnProperty(key)) {
   // Construire le message d'erreur avec le nom du champ (clé) et son message (valeur)
   let errorMessage = `${key}: ${this.resultError[key]}`;
   // Afficher le toast pour chaque erreur
   this.triggerToast(errorMessage);
 }
}
   },
   triggerToast(errorMessage) {
   this.toast.error(errorMessage, {
   position: "top-right",
   timeout: 5000,
   closeOnClick: true,
   pauseOnFocusLoss: true,
   pauseOnHover: true,
   draggable: true,
   draggablePercent: 0.6,
   showCloseButtonOnHover: false,
   hideProgressBar: true,
   closeButton: "button",
   icon: "mdi mdi-alert-circle-outline", // Modifier l'icône pour une icône d'erreur
   rtl: false,
   className: 'toast-error'
 });
},
    handleFileUploadImages(event) {
    console.log("File input change");
    const file = event.target.files[0];
    console.log("handleFileUploadLogo Selected file:", file);
      this.step1.Photos = file

  },
  handleFileUploadVideo(event) {
    console.log("File input change");
    const file = event.target.files[0];
    console.log("handleFileUploadLogo Selected file:", file);
      this.step1.Videos = file

  },
    },
    
}
</script>
<style lang="css" scoped>
    
</style>